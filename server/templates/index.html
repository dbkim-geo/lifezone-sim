<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>안동권의 장래 생활권</title>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      font-family: "Noto Sans KR", sans-serif;
      background-color: #0b1623;
      color: white;
    }

    /* 화면 전체 레이아웃 */
    .main-container {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100%;
      height: 100vh;
      overflow: hidden;
      position: relative;
    }

    /* 좌측 텍스트 영역 */
    .left-panel {
      width: 45%;
      padding-left: 80px;
      z-index: 5;
      opacity: 0;
      transform: translateY(40px);
      animation: fadeUp 1.2s ease-out forwards 1.2s;
    }

    .left-panel h1 {
      font-size: 3rem;
      font-weight: 700;
      line-height: 1.3;
      margin-bottom: 40px;
      color: #e8f0ff;
    }

    /* 버튼 스타일 */
    .btn-group {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .btn-group button {
      width: 260px;
      padding: 15px;
      font-size: 1.1rem;
      background: linear-gradient(145deg, #1f3c73, #304f9c);
      color: #fff;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
      text-align: left;
      padding-left: 25px;
    }

    .btn-group button:hover {
      background: linear-gradient(145deg, #3f5fc1, #5176e0);
      transform: translateX(6px);
    }

    /* 우측 지도 영역 */
    .right-panel {
      width: 55%;
      height: 100%;
      position: relative;
      overflow: hidden;
      opacity: 0;
      transform: scale(1.2);
      animation: zoomOut 2s ease-out forwards;
    }

    .map-layer {
      position: absolute;
      top: 0;
      left: 0;
      width: 110%;
      height: 110%;
      object-fit: contain;
      pointer-events: none;
      transition: transform 0.2s ease-out;
    }

    #map-svg {
      mix-blend-mode: lighten;
      opacity: 0.9;
      z-index: 3;
    }

    #map-shadow {
      opacity: 0.6;
      filter: blur(1.2px);
      z-index: 2;
    }

    /* 애니메이션 */
    @keyframes zoomOut {
      from { transform: scale(1.4); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    @keyframes fadeUp {
      from { transform: translateY(40px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
  </style>
</head>

<body>
  <div class="main-container">

    <!-- 왼쪽 텍스트 -->
    <div class="left-panel">
      <h1>
        안동권의 장래 생활권<br>
        어떻게 설정하면 좋을까?
      </h1>
      <div class="btn-group">
        <button id="btn-current">현재 생활권 살펴보기</button>
        <button id="btn-simulation">장래 생활권 시뮬레이션하기</button>
        <button id="btn-intent">기획 의도</button>
      </div>
    </div>

    <!-- 오른쪽 지도 -->
    <div class="right-panel">
      <img id="map-shadow" class="map-layer" src="/static/images/Main_map_2.png" alt="지도 그림자">
      <img id="map-svg" class="map-layer" src="/static/images/Main_map_1.svg" alt="지도 레이어">
    </div>

  </div>

  <script>
    // 페이지 전환
    $('#btn-current').click(() => window.location.href = '/current');
    $('#btn-simulation').click(() => window.location.href = '/simulation');
    $('#btn-intent').click(() => window.location.href = '/intent');

    // 패럴랙스 효과 (마우스 움직임)
    const svg = document.getElementById('map-svg');
    const shadow = document.getElementById('map-shadow');
    const container = document.querySelector('.right-panel');

    container.addEventListener('mousemove', e => {
      const rect = container.getBoundingClientRect();
      const x = (e.clientX - rect.left) / rect.width - 0.5;
      const y = (e.clientY - rect.top) / rect.height - 0.5;

      // svg: 마우스 반대 방향 / shadow: 같은 방향
      svg.style.transform = `translate(${-x * 30}px, ${-y * 30}px)`;
      shadow.style.transform = `translate(${x * 20}px, ${y * 20}px)`;
    });
  </script>
</body>
</html>
